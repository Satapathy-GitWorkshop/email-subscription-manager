# Server
server.port=8080
server.servlet.context-path=/api

# Database â€” injected by Docker from .env
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/emailsubdb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:emailsubuser}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:emailsubpass}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false

# JWT
app.jwt.secret=${APP_JWT_SECRET:change-this-secret-min-32-chars-long-replace-in-env}
app.jwt.expiration=86400000

# Google OAuth
spring.security.oauth2.client.registration.google.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=openid,email,profile,https://www.googleapis.com/auth/gmail.readonly,https://www.googleapis.com/auth/gmail.send
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/api/auth/oauth2/callback/google

# Microsoft OAuth
spring.security.oauth2.client.registration.microsoft.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_MICROSOFT_CLIENT_ID}
spring.security.oauth2.client.registration.microsoft.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_MICROSOFT_CLIENT_SECRET}
spring.security.oauth2.client.registration.microsoft.scope=openid,email,profile,Mail.Read,Mail.Send,offline_access
spring.security.oauth2.client.registration.microsoft.redirect-uri={baseUrl}/api/auth/oauth2/callback/microsoft
spring.security.oauth2.client.registration.microsoft.authorization-grant-type=authorization_code
spring.security.oauth2.client.provider.microsoft.authorization-uri=https://login.microsoftonline.com/common/oauth2/v2.0/authorize
spring.security.oauth2.client.provider.microsoft.token-uri=https://login.microsoftonline.com/common/oauth2/v2.0/token
spring.security.oauth2.client.provider.microsoft.user-info-uri=https://graph.microsoft.com/v1.0/me
spring.security.oauth2.client.provider.microsoft.user-name-attribute=id

# AI APIs
app.ai.groq.api-key=${APP_AI_GROQ_API_KEY}
app.ai.groq.base-url=https://api.groq.com/openai/v1
app.ai.groq.model=llama3-8b-8192

app.ai.gemini.api-key=${APP_AI_GEMINI_API_KEY}
app.ai.gemini.base-url=https://generativelanguage.googleapis.com/v1beta

app.ai.cloudflare.api-key=${APP_AI_CLOUDFLARE_API_KEY}
app.ai.cloudflare.account-id=${APP_AI_CLOUDFLARE_ACCOUNT_ID}
app.ai.cloudflare.base-url=https://api.cloudflare.com/client/v4/accounts

# Frontend URL
app.frontend.url=${APP_FRONTEND_URL:http://localhost:3000}

# Scheduling
app.sync.interval-hours=6
app.categorization.queue-process-delay-ms=2000

# Logging
logging.level.com.emailsub=INFO
